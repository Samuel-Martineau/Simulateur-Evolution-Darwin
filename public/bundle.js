!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t,n,l){if(e){const a=i(e,t,n,l);return e[0](a)}}function i(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function u(e,t,n,l){return e[2]&&l?t.dirty|e[2](l(n)):t.dirty}function r(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function v(){return p(" ")}function g(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){(null!=t||e.value)&&(e.value=t)}function b(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function N(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function w(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function x(e,t,n){e.classList[n?"add":"remove"](t)}let j;function _(e){j=e}function C(){const e=function(){if(!j)throw new Error("Function called outside component initialization");return j}();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const a=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);l.slice().forEach(t=>{t.call(e,a)})}}}const A=[],S=[],E=[],G=[],D=Promise.resolve();let k=!1;function R(e){E.push(e)}function I(e){G.push(e)}function F(){const e=new Set;do{for(;A.length;){const e=A.shift();_(e),O(e.$$)}for(;S.length;)S.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];e.has(n)||(n(),e.add(n))}E.length=0}while(A.length);for(;G.length;)G.pop()();k=!1}function O(e){null!==e.fragment&&(e.update(),l(e.before_update),e.fragment&&e.fragment.p(e.ctx,e.dirty),e.dirty=[-1],e.after_update.forEach(R))}const V=new Set;let B;function M(){B={r:0,c:[],p:B}}function z(){B.r||l(B.c),B=B.p}function L(e,t){e&&e.i&&(V.delete(e),e.i(t))}function T(e,t,n,l){if(e&&e.o){if(V.has(e))return;V.add(e),B.c.push(()=>{V.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}function U(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function q(e){e&&e.c()}function J(e,n,s){const{fragment:o,on_mount:i,on_destroy:u,after_update:r}=e.$$;o&&o.m(n,s),R(()=>{const n=i.map(t).filter(a);u?u.push(...n):l(n),e.$$.on_mount=[]}),r.forEach(R)}function P(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(A.push(e),k||(k=!0,D.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(t,a,s,o,i,u,r=[-1]){const c=j;_(t);const d=a.props||{},f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:r};let m=!1;f.ctx=s?s(t,d,(e,n,l=n)=>(f.ctx&&i(f.ctx[e],f.ctx[e]=l)&&(f.bound[e]&&f.bound[e](l),m&&H(t,e)),n)):[],f.update(),m=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),a.target&&(a.hydrate?f.fragment&&f.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):f.fragment&&f.fragment.c(),a.intro&&L(t.$$.fragment),J(t,a.target,a.anchor),F()),_(c)}class X{$destroy(){P(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function W(e){let t,n;return{c(){t=m("label"),n=p(e[1]),$(t,"class","label")},m(e,l){c(e,t,l),r(t,n)},p(e,t){2&t&&h(n,e[1])},d(e){e&&d(t)}}}function Y(e){let t,n,l;return{c(){t=m("div"),n=m("button"),l=p(e[2]),$(n,"type","submit"),$(n,"class","button is-static"),$(t,"class","control")},m(e,a){c(e,t,a),r(t,n),r(n,l)},p(e,t){4&t&&h(l,e[2])},d(e){e&&d(t)}}}function K(t){let n,l,a,s,o,i,u=!1,f=t[1]&&W(t);function p(){u=!0,t[3].call(s)}let h=t[2]&&Y(t);return{c(){f&&f.c(),n=v(),l=m("div"),a=m("div"),s=m("input"),o=v(),h&&h.c(),$(s,"type","number"),$(s,"class","input"),$(s,"placeholder",t[1]),$(a,"class","control is-expanded"),$(l,"class","field has-addons"),i=g(s,"input",p)},m(e,i){f&&f.m(e,i),c(e,n,i),c(e,l,i),r(l,a),r(a,s),y(s,t[0]),r(l,o),h&&h.m(l,null)},p(e,[t]){e[1]?f?f.p(e,t):(f=W(e),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),2&t&&$(s,"placeholder",e[1]),!u&&1&t&&y(s,e[0]),u=!1,e[2]?h?h.p(e,t):(h=Y(e),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},i:e,o:e,d(e){f&&f.d(e),e&&d(n),e&&d(l),h&&h.d(),i()}}}function Q(e,t,n){let{label:l}=t,{value:a}=t,{unit:s=""}=t;return e.$set=e=>{"label"in e&&n(1,l=e.label),"value"in e&&n(0,a=e.value),"unit"in e&&n(2,s=e.unit)},[a,l,s,function(){a=function(e){return""===e?void 0:+e}(this.value),n(0,a)}]}class ee extends X{constructor(e){super(),Z(this,e,Q,K,s,{label:1,value:0,unit:2})}}function te(e){let t,n;return{c(){t=m("label"),n=p(e[1]),$(t,"class","label")},m(e,l){c(e,t,l),r(t,n)},p(e,t){2&t&&h(n,e[1])},d(e){e&&d(t)}}}function ne(t){let n,l,a,s,o,i=t[1]&&te(t);return{c(){i&&i.c(),n=v(),l=m("div"),a=m("div"),s=m("input"),$(s,"type","text"),$(s,"class","input"),$(s,"placeholder",t[1]),$(a,"class","control"),$(l,"class","field"),o=g(s,"input",t[2])},m(e,o){i&&i.m(e,o),c(e,n,o),c(e,l,o),r(l,a),r(a,s),y(s,t[0])},p(e,[t]){e[1]?i?i.p(e,t):(i=te(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),2&t&&$(s,"placeholder",e[1]),1&t&&s.value!==e[0]&&y(s,e[0])},i:e,o:e,d(e){i&&i.d(e),e&&d(n),e&&d(l),o()}}}function le(e,t,n){let{label:l}=t,{value:a}=t;return e.$set=e=>{"label"in e&&n(1,l=e.label),"value"in e&&n(0,a=e.value)},[a,l,function(){a=this.value,n(0,a)}]}class ae extends X{constructor(e){super(),Z(this,e,le,ne,s,{label:1,value:0})}}function se(e){let t,n;return{c(){t=m("label"),n=p(e[1]),$(t,"class","label")},m(e,l){c(e,t,l),r(t,n)},p(e,t){2&t&&h(n,e[1])},d(e){e&&d(t)}}}function oe(e){let t,n,l,a,s,f,p,h,y=e[1]&&se(e);const b=e[3].default,w=o(b,e,e[2],null);return{c(){t=m("div"),y&&y.c(),n=v(),l=m("div"),a=m("div"),s=m("select"),f=m("option"),f.textContent="Veuillez choisir une option",w&&w.c(),$(f,"default",""),f.__value="",f.value=f.__value,f.disabled=!0,void 0===e[0]&&R(()=>e[4].call(s)),$(a,"class","select"),$(l,"class","control"),$(t,"class","field"),h=g(s,"change",e[4])},m(o,i){c(o,t,i),y&&y.m(t,null),r(t,n),r(t,l),r(l,a),r(a,s),r(s,f),w&&w.m(s,null),N(s,e[0]),p=!0},p(e,[l]){e[1]?y?y.p(e,l):(y=se(e),y.c(),y.m(t,n)):y&&(y.d(1),y=null),w&&w.p&&4&l&&w.p(i(b,e,e[2],null),u(b,e[2],l,null)),1&l&&N(s,e[0])},i(e){p||(L(w,e),p=!0)},o(e){T(w,e),p=!1},d(e){e&&d(t),y&&y.d(),w&&w.d(e),h()}}}function ie(e,t,n){let{label:l}=t,{value:a}=t,{$$slots:s={},$$scope:o}=t;return e.$set=e=>{"label"in e&&n(1,l=e.label),"value"in e&&n(0,a=e.value),"$$scope"in e&&n(2,o=e.$$scope)},[a,l,o,s,function(){a=w(this),n(0,a)}]}class ue extends X{constructor(e){super(),Z(this,e,ie,oe,s,{label:1,value:0})}}var re=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],l=0;l<e.rangeCount;l++)n.push(e.getRangeAt(l));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},ce="Copy to clipboard: #{key}, Enter";var de=function(e,t){var n,l,a,s,o,i,u=!1;t||(t={}),n=t.debug||!1;try{if(a=re(),s=document.createRange(),o=document.getSelection(),(i=document.createElement("span")).textContent=e,i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",(function(n){n.stopPropagation(),t.format&&(n.preventDefault(),n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))})),document.body.appendChild(i),s.selectNodeContents(i),o.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),u=!0}catch(a){n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),l=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:ce),window.prompt(l,e)}}finally{o&&("function"==typeof o.removeRange?o.removeRange(s):o.removeAllRanges()),i&&document.body.removeChild(i),a()}return u};function fe(e,t,n){const l=e.slice();return l[29]=t[n],l}function me(e,t,n){const l=e.slice();return l[26]=t[n],l[27]=t,l[28]=n,l}function pe(e,t,n){const l=e.slice();return l[29]=t[n],l}function ve(e,t,n){const l=e.slice();return l[26]=t[n],l[32]=t,l[33]=n,l}function ge(e){let t,n,l;return{c(){t=m("option"),t.textContent="Écart type",n=v(),l=m("option"),l.textContent="Constant",t.__value="stddev",t.value=t.__value,l.__value="constant",l.value=l.__value},m(e,a){c(e,t,a),c(e,n,a),c(e,l,a)},d(e){e&&d(t),e&&d(n),e&&d(l)}}}function $e(e){let t,n;function l(t){e[7].call(null,t,e[26])}let a={label:"Valeur"};void 0!==e[26].value&&(a.value=e[26].value);const s=new ee({props:a});return S.push(()=>U(s,"value",l)),{c(){q(s.$$.fragment)},m(e,t){J(s,e,t),n=!0},p(n,l){e=n;const a={};!t&&1&l&&(t=!0,a.value=e[26].value,I(()=>t=!1)),s.$set(a)},i(e){n||(L(s.$$.fragment,e),n=!0)},o(e){T(s.$$.fragment,e),n=!1},d(e){P(s,e)}}}function he(e){let t,n,l,a;function s(t){e[5].call(null,t,e[26])}let o={label:"Valeur moyenne"};void 0!==e[26].avg&&(o.value=e[26].avg);const i=new ee({props:o});function u(t){e[6].call(null,t,e[26])}S.push(()=>U(i,"value",s));let r={label:"Écart type"};void 0!==e[26].stdDev&&(r.value=e[26].stdDev);const f=new ee({props:r});return S.push(()=>U(f,"value",u)),{c(){q(i.$$.fragment),n=v(),q(f.$$.fragment)},m(e,t){J(i,e,t),c(e,n,t),J(f,e,t),a=!0},p(n,a){e=n;const s={};!t&&1&a&&(t=!0,s.value=e[26].avg,I(()=>t=!1)),i.$set(s);const o={};!l&&1&a&&(l=!0,o.value=e[26].stdDev,I(()=>l=!1)),f.$set(o)},i(e){a||(L(i.$$.fragment,e),L(f.$$.fragment,e),a=!0)},o(e){T(i.$$.fragment,e),T(f.$$.fragment,e),a=!1},d(e){P(i,e),e&&d(n),P(f,e)}}}function ye(e){let t,n,l,a=e[29].displayName+"";return{c(){t=m("option"),n=p(a),t.__value=l=e[29].name,t.value=t.__value},m(e,l){c(e,t,l),r(t,n)},p(e,s){1&s&&a!==(a=e[29].displayName+"")&&h(n,a),1&s&&l!==(l=e[29].name)&&(t.__value=l),t.value=t.__value},d(e){e&&d(t)}}}function be(e){let t,n,a,s,o,i,u,b,w,x,j,_,C,A,E,G,D,k,F,O,V,B,H,Z,X,W,Y,K,Q,ee,te,ne,le,ae,se=(console.log(e[26].adjustments=e[26].adjustments||{})||"")+"",oe=e[26].displayName+"",ie=(console.log(e[26].selectedAdjustmentGeneName=e[26].selectedAdjustmentGeneName||"")||"")+"",re=(console.log(e[26].adjustments[e[26].selectedAdjustmentGeneName]=e[26].adjustments[e[26].selectedAdjustmentGeneName]||"")||"")+"";function ce(t){e[4].call(null,t,e[26])}let de={label:"Modificateur",$$slots:{default:[ge]},$$scope:{ctx:e}};void 0!==e[26].modificator&&(de.value=e[26].modificator);const fe=new ue({props:de});S.push(()=>U(fe,"value",ce));const me=[he,$e],ve=[];function be(e,t){return"stddev"===e[26].modificator?0:""!==e[26].modificator?1:-1}~(x=be(e))&&(j=ve[x]=me[x](e));let Ne=e[0].prey.genes,we=[];for(let t=0;t<Ne.length;t+=1)we[t]=ye(pe(e,Ne,t));function xe(){e[9].call(H,e[26])}function je(){e[10].call(te,e[26])}return{c(){t=p(se),n=v(),a=m("h1"),s=p("Gène « "),o=p(oe),i=p(" »"),u=v(),q(fe.$$.fragment),w=v(),j&&j.c(),_=v(),C=m("label"),A=p("Ajustements\n      "),E=m("i"),G=p("( Ex:\n        "),D=m("code"),D.textContent="Math.round(${value} * 0.05)",k=p("\n        )"),F=v(),O=m("div"),V=m("p"),B=m("span"),H=m("select"),Z=m("option"),Z.textContent="Veuillez choisir un gène";for(let e=0;e<we.length;e+=1)we[e].c();X=v(),W=m("p"),Y=p(ie),K=v(),Q=p(re),ee=v(),te=m("input"),$(a,"class","title is-5 svelte-72evya"),$(C,"class","label"),Z.__value="",Z.value=Z.__value,Z.disabled=!0,$(Z,"default",""),void 0===e[26].selectedAdjustmentGeneName&&R(xe),$(B,"class","select"),$(V,"class","control"),te.disabled=ne=""===e[26].selectedAdjustmentGeneName,$(te,"class","input"),$(te,"type","text"),$(te,"placeholder","Formule pour ledit gène"),$(W,"class","control is-expanded"),$(O,"class","field has-addons"),ae=[g(D,"click",e[8]),g(H,"change",xe),g(te,"input",je)]},m(l,d){c(l,t,d),c(l,n,d),c(l,a,d),r(a,s),r(a,o),r(a,i),c(l,u,d),J(fe,l,d),c(l,w,d),~x&&ve[x].m(l,d),c(l,_,d),c(l,C,d),r(C,A),r(C,E),r(E,G),r(E,D),r(E,k),c(l,F,d),c(l,O,d),r(O,V),r(V,B),r(B,H),r(H,Z);for(let e=0;e<we.length;e+=1)we[e].m(H,null);N(H,e[26].selectedAdjustmentGeneName),r(O,X),r(O,W),r(W,Y),r(W,K),r(W,Q),r(W,ee),r(W,te),y(te,e[26].adjustments[e[26].selectedAdjustmentGeneName]),le=!0},p(n,l){e=n,(!le||1&l)&&se!==(se=(console.log(e[26].adjustments=e[26].adjustments||{})||"")+"")&&h(t,se),(!le||1&l)&&oe!==(oe=e[26].displayName+"")&&h(o,oe);const a={};0&l&&(a.$$scope={dirty:l,ctx:e}),!b&&1&l&&(b=!0,a.value=e[26].modificator,I(()=>b=!1)),fe.$set(a);let s=x;if(x=be(e),x===s?~x&&ve[x].p(e,l):(j&&(M(),T(ve[s],1,1,()=>{ve[s]=null}),z()),~x?(j=ve[x],j||(j=ve[x]=me[x](e),j.c()),L(j,1),j.m(_.parentNode,_)):j=null),1&l){let t;for(Ne=e[0].prey.genes,t=0;t<Ne.length;t+=1){const n=pe(e,Ne,t);we[t]?we[t].p(n,l):(we[t]=ye(n),we[t].c(),we[t].m(H,null))}for(;t<we.length;t+=1)we[t].d(1);we.length=Ne.length}1&l&&N(H,e[26].selectedAdjustmentGeneName),(!le||1&l)&&ie!==(ie=(console.log(e[26].selectedAdjustmentGeneName=e[26].selectedAdjustmentGeneName||"")||"")+"")&&h(Y,ie),(!le||1&l)&&re!==(re=(console.log(e[26].adjustments[e[26].selectedAdjustmentGeneName]=e[26].adjustments[e[26].selectedAdjustmentGeneName]||"")||"")+"")&&h(Q,re),(!le||1&l&&ne!==(ne=""===e[26].selectedAdjustmentGeneName))&&(te.disabled=ne),1&l&&te.value!==e[26].adjustments[e[26].selectedAdjustmentGeneName]&&y(te,e[26].adjustments[e[26].selectedAdjustmentGeneName])},i(e){le||(L(fe.$$.fragment,e),L(j),le=!0)},o(e){T(fe.$$.fragment,e),T(j),le=!1},d(e){e&&d(t),e&&d(n),e&&d(a),e&&d(u),P(fe,e),e&&d(w),~x&&ve[x].d(e),e&&d(_),e&&d(C),e&&d(F),e&&d(O),f(we,e),l(ae)}}}function Ne(e){let t,n,l;return{c(){t=m("option"),t.textContent="Écart type",n=v(),l=m("option"),l.textContent="Constant",t.__value="stddev",t.value=t.__value,l.__value="constant",l.value=l.__value},m(e,a){c(e,t,a),c(e,n,a),c(e,l,a)},d(e){e&&d(t),e&&d(n),e&&d(l)}}}function we(e){let t,n;function l(t){e[16].call(null,t,e[26])}let a={label:"Valeur"};void 0!==e[26].value&&(a.value=e[26].value);const s=new ee({props:a});return S.push(()=>U(s,"value",l)),{c(){q(s.$$.fragment)},m(e,t){J(s,e,t),n=!0},p(n,l){e=n;const a={};!t&&1&l&&(t=!0,a.value=e[26].value,I(()=>t=!1)),s.$set(a)},i(e){n||(L(s.$$.fragment,e),n=!0)},o(e){T(s.$$.fragment,e),n=!1},d(e){P(s,e)}}}function xe(e){let t,n,l,a;function s(t){e[14].call(null,t,e[26])}let o={label:"Valeur moyenne"};void 0!==e[26].avg&&(o.value=e[26].avg);const i=new ee({props:o});function u(t){e[15].call(null,t,e[26])}S.push(()=>U(i,"value",s));let r={label:"Écart type"};void 0!==e[26].stdDev&&(r.value=e[26].stdDev);const f=new ee({props:r});return S.push(()=>U(f,"value",u)),{c(){q(i.$$.fragment),n=v(),q(f.$$.fragment)},m(e,t){J(i,e,t),c(e,n,t),J(f,e,t),a=!0},p(n,a){e=n;const s={};!t&&1&a&&(t=!0,s.value=e[26].avg,I(()=>t=!1)),i.$set(s);const o={};!l&&1&a&&(l=!0,o.value=e[26].stdDev,I(()=>l=!1)),f.$set(o)},i(e){a||(L(i.$$.fragment,e),L(f.$$.fragment,e),a=!0)},o(e){T(i.$$.fragment,e),T(f.$$.fragment,e),a=!1},d(e){P(i,e),e&&d(n),P(f,e)}}}function je(e){let t,n,l,a=e[29].displayName+"";return{c(){t=m("option"),n=p(a),t.__value=l=e[29].name,t.value=t.__value},m(e,l){c(e,t,l),r(t,n)},p(e,s){1&s&&a!==(a=e[29].displayName+"")&&h(n,a),1&s&&l!==(l=e[29].name)&&(t.__value=l),t.value=t.__value},d(e){e&&d(t)}}}function _e(e){let t,n,a,s,o,i,u,b,w,x,j,_,C,A,E,G,D,k,F,O,V,B,H,Z,X,W,Y,K,Q,ee,te,ne,le,ae,se=(console.log(e[26].adjustments=e[26].adjustments||{})||"")+"",oe=e[26].displayName+"",ie=(console.log(e[26].selectedAdjustmentGeneName=e[26].selectedAdjustmentGeneName||"")||"")+"",re=(console.log(e[26].adjustments[e[26].selectedAdjustmentGeneName]=e[26].adjustments[e[26].selectedAdjustmentGeneName]||"")||"")+"";function ce(t){e[13].call(null,t,e[26])}let de={label:"Modificateur",$$slots:{default:[Ne]},$$scope:{ctx:e}};void 0!==e[26].modificator&&(de.value=e[26].modificator);const me=new ue({props:de});S.push(()=>U(me,"value",ce));const pe=[xe,we],ve=[];function ge(e,t){return"stddev"===e[26].modificator?0:""!==e[26].modificator?1:-1}~(x=ge(e))&&(j=ve[x]=pe[x](e));let $e=e[0].prey.genes,he=[];for(let t=0;t<$e.length;t+=1)he[t]=je(fe(e,$e,t));function ye(){e[18].call(H,e[26])}function be(){e[19].call(te,e[26])}return{c(){t=p(se),n=v(),a=m("h1"),s=p("Gène « "),o=p(oe),i=p(" »"),u=v(),q(me.$$.fragment),w=v(),j&&j.c(),_=v(),C=m("label"),A=p("Ajustements\n      "),E=m("i"),G=p("( Ex:\n        "),D=m("code"),D.textContent="Math.round(${value} * 0.05)",k=p("\n        )"),F=v(),O=m("div"),V=m("p"),B=m("span"),H=m("select"),Z=m("option"),Z.textContent="Veuillez choisir un gène";for(let e=0;e<he.length;e+=1)he[e].c();X=v(),W=m("p"),Y=p(ie),K=v(),Q=p(re),ee=v(),te=m("input"),$(a,"class","title is-5 svelte-72evya"),$(C,"class","label"),Z.__value="",Z.value=Z.__value,Z.disabled=!0,$(Z,"default",""),void 0===e[26].selectedAdjustmentGeneName&&R(ye),$(B,"class","select"),$(V,"class","control"),te.disabled=ne=""===e[26].selectedAdjustmentGeneName,$(te,"class","input"),$(te,"type","text"),$(te,"placeholder","Formule pour ledit gène"),$(W,"class","control is-expanded"),$(O,"class","field has-addons"),ae=[g(D,"click",e[17]),g(H,"change",ye),g(te,"input",be)]},m(l,d){c(l,t,d),c(l,n,d),c(l,a,d),r(a,s),r(a,o),r(a,i),c(l,u,d),J(me,l,d),c(l,w,d),~x&&ve[x].m(l,d),c(l,_,d),c(l,C,d),r(C,A),r(C,E),r(E,G),r(E,D),r(E,k),c(l,F,d),c(l,O,d),r(O,V),r(V,B),r(B,H),r(H,Z);for(let e=0;e<he.length;e+=1)he[e].m(H,null);N(H,e[26].selectedAdjustmentGeneName),r(O,X),r(O,W),r(W,Y),r(W,K),r(W,Q),r(W,ee),r(W,te),y(te,e[26].adjustments[e[26].selectedAdjustmentGeneName]),le=!0},p(n,l){e=n,(!le||1&l)&&se!==(se=(console.log(e[26].adjustments=e[26].adjustments||{})||"")+"")&&h(t,se),(!le||1&l)&&oe!==(oe=e[26].displayName+"")&&h(o,oe);const a={};0&l&&(a.$$scope={dirty:l,ctx:e}),!b&&1&l&&(b=!0,a.value=e[26].modificator,I(()=>b=!1)),me.$set(a);let s=x;if(x=ge(e),x===s?~x&&ve[x].p(e,l):(j&&(M(),T(ve[s],1,1,()=>{ve[s]=null}),z()),~x?(j=ve[x],j||(j=ve[x]=pe[x](e),j.c()),L(j,1),j.m(_.parentNode,_)):j=null),1&l){let t;for($e=e[0].prey.genes,t=0;t<$e.length;t+=1){const n=fe(e,$e,t);he[t]?he[t].p(n,l):(he[t]=je(n),he[t].c(),he[t].m(H,null))}for(;t<he.length;t+=1)he[t].d(1);he.length=$e.length}1&l&&N(H,e[26].selectedAdjustmentGeneName),(!le||1&l)&&ie!==(ie=(console.log(e[26].selectedAdjustmentGeneName=e[26].selectedAdjustmentGeneName||"")||"")+"")&&h(Y,ie),(!le||1&l)&&re!==(re=(console.log(e[26].adjustments[e[26].selectedAdjustmentGeneName]=e[26].adjustments[e[26].selectedAdjustmentGeneName]||"")||"")+"")&&h(Q,re),(!le||1&l&&ne!==(ne=""===e[26].selectedAdjustmentGeneName))&&(te.disabled=ne),1&l&&te.value!==e[26].adjustments[e[26].selectedAdjustmentGeneName]&&y(te,e[26].adjustments[e[26].selectedAdjustmentGeneName])},i(e){le||(L(me.$$.fragment,e),L(j),le=!0)},o(e){T(me.$$.fragment,e),T(j),le=!1},d(e){e&&d(t),e&&d(n),e&&d(a),e&&d(u),P(me,e),e&&d(w),~x&&ve[x].d(e),e&&d(_),e&&d(C),e&&d(F),e&&d(O),f(he,e),l(ae)}}}function Ce(e){let t,n,l,a,s,o,i,u,p,g,h,y,b,N,w,x,j,_,C,A,E,G,D,k,R,F,O,V,B,H,Z,X,W;function Y(t){e[1].call(null,t)}let K={label:"Nom de la configuration"};void 0!==e[0].name&&(K.value=e[0].name);const Q=new ae({props:K});function te(t){e[2].call(null,t)}S.push(()=>U(Q,"value",Y));let ne={label:"Nom de l'espèce des herbivores"};void 0!==e[0].prey.name&&(ne.value=e[0].prey.name);const le=new ae({props:ne});function se(t){e[3].call(null,t)}S.push(()=>U(le,"value",te));let oe={label:"Nombre de départ",unit:"herbivore(s)"};void 0!==e[0].prey.startingNb&&(oe.value=e[0].prey.startingNb);const ie=new ee({props:oe});S.push(()=>U(ie,"value",se));let ue=e[0].prey.genes,re=[];for(let t=0;t<ue.length;t+=1)re[t]=be(ve(e,ue,t));const ce=e=>T(re[e],1,1,()=>{re[e]=null});function de(t){e[11].call(null,t)}let fe={label:"Nom de l'espèce des carnivores"};void 0!==e[0].predator.name&&(fe.value=e[0].predator.name);const pe=new ae({props:fe});function ge(t){e[12].call(null,t)}S.push(()=>U(pe,"value",de));let $e={label:"Nombre de départ",unit:"carnivore(s)"};void 0!==e[0].predator.startingNb&&($e.value=e[0].predator.startingNb);const he=new ee({props:$e});S.push(()=>U(he,"value",ge));let ye=e[0].predator.genes,Ne=[];for(let t=0;t<ye.length;t+=1)Ne[t]=_e(me(e,ye,t));const we=e=>T(Ne[e],1,1,()=>{Ne[e]=null});function xe(t){e[20].call(null,t)}let je={label:"Nombre de départ",unit:"plantes"};void 0!==e[0].plant.startingNb&&(je.value=e[0].plant.startingNb);const Ce=new ee({props:je});function Ae(t){e[21].call(null,t)}S.push(()=>U(Ce,"value",xe));let Se={label:"Intervalle entre les vagues d'appartion des plantes",unit:"ut"};void 0!==e[0].plant.spawnInterval&&(Se.value=e[0].plant.spawnInterval);const Ee=new ee({props:Se});function Ge(t){e[22].call(null,t)}S.push(()=>U(Ee,"value",Ae));let De={label:"Nombre de plantes par vague d'apparition",unit:"plantes"};void 0!==e[0].plant.spawnRate&&(De.value=e[0].plant.spawnRate);const ke=new ee({props:De});function Re(t){e[23].call(null,t)}S.push(()=>U(ke,"value",Ge));let Ie={label:"Taille de la carte",unit:"ue"};void 0!==e[0].size&&(Ie.value=e[0].size);const Fe=new ee({props:Ie});function Oe(t){e[24].call(null,t)}S.push(()=>U(Fe,"value",Re));let Ve={label:"SEED"};void 0!==e[0].seed&&(Ve.value=e[0].seed);const Be=new ee({props:Ve});function Me(t){e[25].call(null,t)}S.push(()=>U(Be,"value",Oe));let ze={label:"Intervalle entre les recensement des populations",unit:"ut"};void 0!==e[0].nbOfAnimalsSnapshotInterval&&(ze.value=e[0].nbOfAnimalsSnapshotInterval);const Le=new ee({props:ze});return S.push(()=>U(Le,"value",Me)),{c(){t=m("form"),q(Q.$$.fragment),l=v(),a=m("h1"),a.textContent="Herbivores",s=v(),q(le.$$.fragment),i=v(),q(ie.$$.fragment),p=v();for(let e=0;e<re.length;e+=1)re[e].c();g=v(),h=m("h1"),h.textContent="Carnivores",y=v(),q(pe.$$.fragment),N=v(),q(he.$$.fragment),x=v();for(let e=0;e<Ne.length;e+=1)Ne[e].c();j=v(),_=m("h1"),_.textContent="Plantes",C=v(),q(Ce.$$.fragment),E=v(),q(Ee.$$.fragment),D=v(),q(ke.$$.fragment),R=v(),F=m("h1"),F.textContent="Autres",O=v(),q(Fe.$$.fragment),B=v(),q(Be.$$.fragment),Z=v(),q(Le.$$.fragment),$(a,"class","title is-4 svelte-72evya"),$(h,"class","title is-4 svelte-72evya"),$(_,"class","title is-4 svelte-72evya"),$(F,"class","title is-4 svelte-72evya"),$(t,"class","svelte-72evya")},m(e,n){c(e,t,n),J(Q,t,null),r(t,l),r(t,a),r(t,s),J(le,t,null),r(t,i),J(ie,t,null),r(t,p);for(let e=0;e<re.length;e+=1)re[e].m(t,null);r(t,g),r(t,h),r(t,y),J(pe,t,null),r(t,N),J(he,t,null),r(t,x);for(let e=0;e<Ne.length;e+=1)Ne[e].m(t,null);r(t,j),r(t,_),r(t,C),J(Ce,t,null),r(t,E),J(Ee,t,null),r(t,D),J(ke,t,null),r(t,R),r(t,F),r(t,O),J(Fe,t,null),r(t,B),J(Be,t,null),r(t,Z),J(Le,t,null),W=!0},p(e,[l]){const a={};!n&&1&l&&(n=!0,a.value=e[0].name,I(()=>n=!1)),Q.$set(a);const s={};!o&&1&l&&(o=!0,s.value=e[0].prey.name,I(()=>o=!1)),le.$set(s);const i={};if(!u&&1&l&&(u=!0,i.value=e[0].prey.startingNb,I(()=>u=!1)),ie.$set(i),1&l){let n;for(ue=e[0].prey.genes,n=0;n<ue.length;n+=1){const a=ve(e,ue,n);re[n]?(re[n].p(a,l),L(re[n],1)):(re[n]=be(a),re[n].c(),L(re[n],1),re[n].m(t,g))}for(M(),n=ue.length;n<re.length;n+=1)ce(n);z()}const r={};!b&&1&l&&(b=!0,r.value=e[0].predator.name,I(()=>b=!1)),pe.$set(r);const c={};if(!w&&1&l&&(w=!0,c.value=e[0].predator.startingNb,I(()=>w=!1)),he.$set(c),1&l){let n;for(ye=e[0].predator.genes,n=0;n<ye.length;n+=1){const a=me(e,ye,n);Ne[n]?(Ne[n].p(a,l),L(Ne[n],1)):(Ne[n]=_e(a),Ne[n].c(),L(Ne[n],1),Ne[n].m(t,j))}for(M(),n=ye.length;n<Ne.length;n+=1)we(n);z()}const d={};!A&&1&l&&(A=!0,d.value=e[0].plant.startingNb,I(()=>A=!1)),Ce.$set(d);const f={};!G&&1&l&&(G=!0,f.value=e[0].plant.spawnInterval,I(()=>G=!1)),Ee.$set(f);const m={};!k&&1&l&&(k=!0,m.value=e[0].plant.spawnRate,I(()=>k=!1)),ke.$set(m);const p={};!V&&1&l&&(V=!0,p.value=e[0].size,I(()=>V=!1)),Fe.$set(p);const v={};!H&&1&l&&(H=!0,v.value=e[0].seed,I(()=>H=!1)),Be.$set(v);const $={};!X&&1&l&&(X=!0,$.value=e[0].nbOfAnimalsSnapshotInterval,I(()=>X=!1)),Le.$set($)},i(e){if(!W){L(Q.$$.fragment,e),L(le.$$.fragment,e),L(ie.$$.fragment,e);for(let e=0;e<ue.length;e+=1)L(re[e]);L(pe.$$.fragment,e),L(he.$$.fragment,e);for(let e=0;e<ye.length;e+=1)L(Ne[e]);L(Ce.$$.fragment,e),L(Ee.$$.fragment,e),L(ke.$$.fragment,e),L(Fe.$$.fragment,e),L(Be.$$.fragment,e),L(Le.$$.fragment,e),W=!0}},o(e){T(Q.$$.fragment,e),T(le.$$.fragment,e),T(ie.$$.fragment,e),re=re.filter(Boolean);for(let e=0;e<re.length;e+=1)T(re[e]);T(pe.$$.fragment,e),T(he.$$.fragment,e),Ne=Ne.filter(Boolean);for(let e=0;e<Ne.length;e+=1)T(Ne[e]);T(Ce.$$.fragment,e),T(Ee.$$.fragment,e),T(ke.$$.fragment,e),T(Fe.$$.fragment,e),T(Be.$$.fragment,e),T(Le.$$.fragment,e),W=!1},d(e){e&&d(t),P(Q),P(le),P(ie),f(re,e),P(pe),P(he),f(Ne,e),P(Ce),P(Ee),P(ke),P(Fe),P(Be),P(Le)}}}function Ae(e,t,n){let{config:l}=t;return e.$set=e=>{"config"in e&&n(0,l=e.config)},[l,function(e){l.name=e,n(0,l)},function(e){l.prey.name=e,n(0,l)},function(e){l.prey.startingNb=e,n(0,l)},function(e,t){t.modificator=e,n(0,l)},function(e,t){t.avg=e,n(0,l)},function(e,t){t.stdDev=e,n(0,l)},function(e,t){t.value=e,n(0,l)},()=>de("Math.round(${value} * 0.05)"),function(e){e.selectedAdjustmentGeneName=w(this),n(0,l)},function(e){e.adjustments[e.selectedAdjustmentGeneName]=this.value,n(0,l)},function(e){l.predator.name=e,n(0,l)},function(e){l.predator.startingNb=e,n(0,l)},function(e,t){t.modificator=e,n(0,l)},function(e,t){t.avg=e,n(0,l)},function(e,t){t.stdDev=e,n(0,l)},function(e,t){t.value=e,n(0,l)},()=>de("Math.round(${value} * 0.05)"),function(e){e.selectedAdjustmentGeneName=w(this),n(0,l)},function(e){e.adjustments[e.selectedAdjustmentGeneName]=this.value,n(0,l)},function(e){l.plant.startingNb=e,n(0,l)},function(e){l.plant.spawnInterval=e,n(0,l)},function(e){l.plant.spawnRate=e,n(0,l)},function(e){l.size=e,n(0,l)},function(e){l.seed=e,n(0,l)},function(e){l.nbOfAnimalsSnapshotInterval=e,n(0,l)}]}class Se extends X{constructor(e){super(),Z(this,e,Ae,Ce,s,{config:0})}}var Ee=function(e,t,n,l){var a=new Blob(void 0!==l?[l,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,t);else{var s=window.URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=s,o.setAttribute("download",t),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s)}},Ge=(e,t)=>{let n=new Set(Object.keys(t));return n.forEach(n=>{e.style.setProperty(`--${n}`,t[n])}),{update(t){const l=new Set(Object.keys(t));l.forEach(l=>{e.style.setProperty(`--${l}`,t[l]),n.delete(l)}),n.forEach(t=>e.style.removeProperty(`--${t}`)),n=l}}};const De=e=>({}),ke=e=>({});function Re(e){let t,n,s,f,p,h,y,b,N,w,x,j,_;const C=e[6].title,A=o(C,e,e[5],ke),S=e[6].default,E=o(S,e,e[5],null);return{c(){t=m("div"),n=m("div"),s=v(),f=m("div"),p=m("div"),h=m("span"),h.textContent="⛔️",y=v(),A&&A.c(),b=v(),N=m("hr"),w=v(),E&&E.c(),$(n,"id","backdrop"),$(n,"class","svelte-p52efr"),$(h,"id","close"),$(h,"class","svelte-p52efr"),$(N,"class","svelte-p52efr"),$(p,"class","svelte-p52efr"),$(f,"id","modal"),$(f,"class","svelte-p52efr"),$(t,"class","svelte-p52efr"),_=[g(n,"click",e[2]),g(h,"click",e[2])]},m(l,a){c(l,t,a),r(t,n),r(t,s),r(t,f),r(f,p),r(p,h),r(p,y),A&&A.m(p,null),r(p,b),r(p,N),r(p,w),E&&E.m(p,null),x=Ge.call(null,f,e[1])||{},j=!0},p(e,t){A&&A.p&&32&t&&A.p(i(C,e,e[5],ke),u(C,e[5],t,De)),E&&E.p&&32&t&&E.p(i(S,e,e[5],null),u(S,e[5],t,null)),a(x.update)&&2&t&&x.update.call(null,e[1])},i(e){j||(L(A,e),L(E,e),j=!0)},o(e){T(A,e),T(E,e),j=!1},d(e){e&&d(t),A&&A.d(e),E&&E.d(e),x&&a(x.destroy)&&x.destroy(),l(_)}}}function Ie(e){let t,n,l=e[0]&&Re(e);return{c(){l&&l.c(),t=p("")},m(e,a){l&&l.m(e,a),c(e,t,a),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),L(l,1)):(l=Re(e),l.c(),L(l,1),l.m(t.parentNode,t)):l&&(M(),T(l,1,1,()=>{l=null}),z())},i(e){n||(L(l),n=!0)},o(e){T(l),n=!1},d(e){l&&l.d(e),e&&d(t)}}}function Fe(e,t,n){let{show:l=!1}=t,{width:a="80vw"}=t,{height:s="80vh"}=t;document.body.style.height="100vh",document.addEventListener("keyup",e=>n(0,l=l&&"Escape"!==e.key));let o,{$$slots:i={},$$scope:u}=t;return e.$set=e=>{"show"in e&&n(0,l=e.show),"width"in e&&n(3,a=e.width),"height"in e&&n(4,s=e.height),"$$scope"in e&&n(5,u=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(1,o={width:a,height:s}),1&e.$$.dirty&&(document.body.style.overflow=l?"hidden":"initial")},[l,o,function(){n(0,l=!1)},a,s,u,i]}class Oe extends X{constructor(e){super(),Z(this,e,Fe,Ie,s,{show:0,width:3,height:4})}}function Ve(e,t,n){const l=e.slice();return l[11]=t[n],l}function Be(t){let n,a,s,o,i,u,f,p,h,y,b,N;return{c(){n=m("li"),a=m("a"),a.textContent="Supprimer cette configuration",s=v(),o=m("li"),i=m("a"),i.textContent="Dupliquer cette configuration",u=v(),f=m("li"),p=m("a"),p.textContent="Exécuter cette configuration",h=v(),y=m("li"),b=m("a"),b.textContent="Télécharger cette configuration",$(a,"href","##"),$(i,"href","##"),$(p,"href","##"),$(b,"href","##"),N=[g(a,"click",t[4]),g(i,"click",t[5]),g(p,"click",t[6]),g(b,"click",t[7])]},m(e,t){c(e,n,t),r(n,a),c(e,s,t),c(e,o,t),r(o,i),c(e,u,t),c(e,f,t),r(f,p),c(e,h,t),c(e,y,t),r(y,b)},p:e,d(e){e&&d(n),e&&d(s),e&&d(o),e&&d(u),e&&d(f),e&&d(h),e&&d(y),l(N)}}}function Me(e){let t,n,l,a,s,o=e[11].name.substring(0,Le)+(e[11].name.length>Le?"...":"");function i(...t){return e[10](e[11],...t)}return{c(){t=m("li"),n=m("a"),l=p(o),a=v(),$(n,"href","##"),x(n,"is-active",e[0]===e[11].id),s=g(n,"click",i)},m(e,s){c(e,t,s),r(t,n),r(n,l),r(t,a)},p(t,a){e=t,2&a&&o!==(o=e[11].name.substring(0,Le)+(e[11].name.length>Le?"...":""))&&h(l,o),3&a&&x(n,"is-active",e[0]===e[11].id)},d(e){e&&d(t),s()}}}function ze(t){let n,a,s,o,i,u,p,h,y,b,N,w,x,j,_,C,A,S,E,G=t[0]&&Be(t),D=t[1],k=[];for(let e=0;e<D.length;e+=1)k[e]=Me(Ve(t,D,e));return{c(){n=m("div"),a=m("aside"),s=m("p"),s.textContent="Actions",o=v(),i=m("ul"),u=m("li"),p=m("a"),p.textContent="Sauvegarder toutes les configurations",h=v(),G&&G.c(),y=v(),b=m("li"),N=m("a"),N.textContent="Créer une nouvelle configuration",w=v(),x=m("li"),j=m("a"),j.textContent="Charger une configuration à partir d'un fichier",_=v(),C=m("p"),C.textContent="Configuration(s)",A=v(),S=m("ul");for(let e=0;e<k.length;e+=1)k[e].c();$(s,"class","menu-label"),$(p,"href","##"),$(N,"href","##"),$(j,"href","##"),$(i,"class","menu-list"),$(C,"class","menu-label"),$(S,"class","menu-list"),$(a,"class","menu"),$(n,"class","svelte-176b67q"),E=[g(p,"click",t[3]),g(N,"click",t[8]),g(j,"click",t[9])]},m(e,t){c(e,n,t),r(n,a),r(a,s),r(a,o),r(a,i),r(i,u),r(u,p),r(i,h),G&&G.m(i,null),r(i,y),r(i,b),r(b,N),r(i,w),r(i,x),r(x,j),r(a,_),r(a,C),r(a,A),r(a,S);for(let e=0;e<k.length;e+=1)k[e].m(S,null)},p(e,[t]){if(e[0]?G?G.p(e,t):(G=Be(e),G.c(),G.m(i,y)):G&&(G.d(1),G=null),7&t){let n;for(D=e[1],n=0;n<D.length;n+=1){const l=Ve(e,D,n);k[n]?k[n].p(l,t):(k[n]=Me(l),k[n].c(),k[n].m(S,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=D.length}},i:e,o:e,d(e){e&&d(n),G&&G.d(),f(k,e),l(E)}}}let Le=40;function Te(e,t,n){let{currentConfigId:l}=t,{configs:a}=t,s=C();return e.$set=e=>{"currentConfigId"in e&&n(0,l=e.currentConfigId),"configs"in e&&n(1,a=e.configs)},[l,a,s,()=>s("save"),()=>s("delete"),()=>s("duplicate"),()=>s("execute"),()=>s("download"),()=>s("newconfig"),()=>s("uploadconfig"),e=>{n(0,l=e.id),s("editconfig",e.id)}]}class Ue extends X{constructor(e){super(),Z(this,e,Te,ze,s,{currentConfigId:0,configs:1})}}function qe(t){let n;return{c(){n=m("nav"),n.innerHTML='<div class="navbar-start"><h1 class="title is-3 has-text-white" style="margin: 9px 0 0 9px;">\n      Simulateur d&#39;évolution\n    </h1></div>',$(n,"class","navbar is-info")},m(e,t){c(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}class Je extends X{constructor(e){super(),Z(this,e,null,qe,s,{})}}var Pe,He=(Pe=Object.freeze({__proto__:null,default:{}}))&&Pe.default||Pe,Ze=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(){var t,n,l,a=0,s=[];for(n=0;n<256;n++)s[n]=(n+256).toString(16).substr(1);function o(){var e=function(e){return(!t||a+e>i.BUFFER_SIZE)&&(a=0,t=i.randomBytes(i.BUFFER_SIZE)),t.slice(a,a+=e)}(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}function i(){var e=o();return s[e[0]]+s[e[1]]+s[e[2]]+s[e[3]]+"-"+s[e[4]]+s[e[5]]+"-"+s[e[6]]+s[e[7]]+"-"+s[e[8]]+s[e[9]]+"-"+s[e[10]]+s[e[11]]+s[e[12]]+s[e[13]]+s[e[14]]+s[e[15]]}i.BUFFER_SIZE=4096,i.bin=o,i.clearBuffer=function(){t=null,a=0},i.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e)},"undefined"!=typeof crypto?l=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(l=window.msCrypto),l=l||He,e.exports=i,i.randomBytes=function(){if(l){if(l.randomBytes)return l.randomBytes;if(l.getRandomValues)return function(e){var t=new Uint8Array(e);return l.getRandomValues(t),t}}return function(e){var t,n=[];for(t=0;t<e;t++)n.push(Math.floor(256*Math.random()));return n}}()}()}));function Xe(e){let t,n;function l(t){e[19].call(null,t)}let a={};void 0!==e[1]&&(a.config=e[1]);const s=new Se({props:a});return S.push(()=>U(s,"config",l)),{c(){q(s.$$.fragment)},m(e,t){J(s,e,t),n=!0},p(e,n){const l={};!t&&2&n&&(t=!0,l.config=e[1],I(()=>t=!1)),s.$set(l)},i(e){n||(L(s.$$.fragment,e),n=!0)},o(e){T(s.$$.fragment,e),n=!1},d(e){P(s,e)}}}function We(e){let t,n,l=(e[1]?e[1].name:void 0)+"";return{c(){t=m("h1"),n=p(l),$(t,"class","title is-4"),$(t,"slot","title"),b(t,"margin","0")},m(e,l){c(e,t,l),r(t,n)},p(e,t){2&t&&l!==(l=(e[1]?e[1].name:void 0)+"")&&h(n,l)},d(e){e&&d(t)}}}function Ye(t){let n,a,s,o,i,u,f;return{c(){n=v(),a=m("div"),s=m("iframe"),i=v(),u=m("button"),u.textContent="Plein écran",$(s,"id","simulator"),s.src!==(o="simulator.html")&&$(s,"src","simulator.html"),$(s,"frameborder","0"),$(s,"title","simulateur"),b(s,"width","75vw"),b(s,"height","79vh"),$(u,"class","button is-primary"),b(u,"width","100%"),f=[g(s,"load",t[21]),g(u,"click",t[16])]},m(e,l){c(e,n,l),c(e,a,l),r(a,s),t[20](s),t[22](a),c(e,i,l),c(e,u,l)},p:e,d(e){e&&d(n),e&&d(a),t[20](null),t[22](null),e&&d(i),e&&d(u),l(f)}}}function Ke(e){let t;return{c(){t=m("h1"),t.textContent="Téléversement d'une configuration",$(t,"class","title is-4"),$(t,"slot","title"),b(t,"margin","0")},m(e,n){c(e,t,n)},d(e){e&&d(t)}}}function Qe(e){let t,n,a,s,o,i,u,f,y,N,w,j,_=(e[7].name||"Veuillez téléverser un fichier de type JSON")+"";return{c(){t=v(),n=m("div"),a=m("label"),s=m("input"),o=v(),i=m("span"),i.innerHTML='<span class="file-label">⬆️ Choisissez un fichier ⬆️</span>',u=v(),f=m("span"),y=p(_),N=v(),w=m("button"),w.textContent="Téléverser",$(s,"class","file-input"),$(s,"type","file"),$(s,"accept","application/json"),$(i,"class","file-cta"),$(f,"class","file-name"),$(a,"class","file-label"),$(n,"class","file has-name is-fullwidth"),$(w,"class","button"),b(w,"margin-top","10px"),b(w,"width","100%"),b(w,"transition","background 500ms"),x(w,"is-success",e[7]),x(w,"is-danger",!e[7]),j=[g(s,"change",(function(){e[24].apply(this,arguments)})),g(w,"click",e[15])]},m(e,l){c(e,t,l),c(e,n,l),r(n,a),r(a,s),r(a,o),r(a,i),r(a,u),r(a,f),r(f,y),c(e,N,l),c(e,w,l)},p(t,n){e=t,128&n&&_!==(_=(e[7].name||"Veuillez téléverser un fichier de type JSON")+"")&&h(y,_),128&n&&x(w,"is-success",e[7]),128&n&&x(w,"is-danger",!e[7])},d(e){e&&d(t),e&&d(n),e&&d(N),e&&d(w),l(j)}}}function et(e){let t,n,l,a,s,o,i,u,f,p;const g=new Je({}),h=new Ue({props:{configs:e[0],currentConfigId:e[1]?e[1].id:void 0}});h.$on("save",e[8]),h.$on("delete",e[11]),h.$on("duplicate",e[12]),h.$on("execute",e[13]),h.$on("newconfig",e[9]),h.$on("uploadconfig",e[14]),h.$on("editconfig",e[10]),h.$on("download",e[17]);let y=e[1]&&Xe(e);function b(t){e[23].call(null,t)}let N={$$slots:{default:[Ye],title:[We]},$$scope:{ctx:e}};void 0!==e[2]&&(N.show=e[2]);const w=new Oe({props:N});function x(t){e[25].call(null,t)}S.push(()=>U(w,"show",b));let j={height:"100px",$$slots:{default:[Qe],title:[Ke]},$$scope:{ctx:e}};void 0!==e[6]&&(j.show=e[6]);const _=new Oe({props:j});return S.push(()=>U(_,"show",x)),{c(){t=m("link"),n=v(),q(g.$$.fragment),l=v(),a=m("div"),q(h.$$.fragment),s=v(),y&&y.c(),o=v(),q(w.$$.fragment),u=v(),q(_.$$.fragment),document.title="Simulateur d'évolution selon Darwin",$(t,"rel","stylesheet"),$(t,"href","bulma.css"),$(a,"id","wrapper")},m(e,i){r(document.head,t),c(e,n,i),J(g,e,i),c(e,l,i),c(e,a,i),J(h,a,null),r(a,s),y&&y.m(a,null),c(e,o,i),J(w,e,i),c(e,u,i),J(_,e,i),p=!0},p(e,[t]){const n={};1&t&&(n.configs=e[0]),2&t&&(n.currentConfigId=e[1]?e[1].id:void 0),h.$set(n),e[1]?y?(y.p(e,t),L(y,1)):(y=Xe(e),y.c(),L(y,1),y.m(a,null)):y&&(M(),T(y,1,1,()=>{y=null}),z());const l={};67108922&t&&(l.$$scope={dirty:t,ctx:e}),!i&&4&t&&(i=!0,l.show=e[2],I(()=>i=!1)),w.$set(l);const s={};67108992&t&&(s.$$scope={dirty:t,ctx:e}),!f&&64&t&&(f=!0,s.show=e[6],I(()=>f=!1)),_.$set(s)},i(e){p||(L(g.$$.fragment,e),L(h.$$.fragment,e),L(y),L(w.$$.fragment,e),L(_.$$.fragment,e),p=!0)},o(e){T(g.$$.fragment,e),T(h.$$.fragment,e),T(y),T(w.$$.fragment,e),T(_.$$.fragment,e),p=!1},d(e){d(t),e&&d(n),P(g,e),e&&d(l),e&&d(a),P(h),y&&y.d(),e&&d(o),P(w,e),e&&d(u),P(_,e)}}}function tt(e,t,n){const l={name:"Nouvelle configuration",id:Ze(),prey:{name:"",startingNb:0,genes:[{displayName:"Vitesse",name:"speed",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue / ut",adjustments:{}},{displayName:"Nombre de bébés",name:"nbOfBabies",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${Math.round(this.value)} bébé${ this.value > 1 ? 's' : '' }",adjustments:{}},{displayName:"Longévité",name:"longevity",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ut",adjustments:{}},{displayName:"Intervalle entre les périodes de reproduction",name:"intervalBetweenReproducingPeriods",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ut",adjustments:{}},{displayName:"Distance de vue",name:"renderDistance",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue",adjustments:{}},{displayName:"Nombre de plantes à manger",name:"hungerLevel",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${Math.round(this.value)} plantes",adjustments:{}},{displayName:"Temps pour manger",name:"eatingInterval",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue",adjustments:{}}]},predator:{name:"",startingNb:0,genes:[{displayName:"Vitesse",name:"speed",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue / ut",adjustments:{}},{displayName:"Nombre de bébés",name:"nbOfBabies",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${Math.round(this.value)} bébé${ this.value > 1 ? 's' : '' }",adjustments:{}},{displayName:"Longévité",name:"longevity",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ut",adjustments:{}},{displayName:"Intervalle entre les périodes de reproduction",name:"intervalBetweenReproducingPeriods",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ut",adjustments:{}},{displayName:"Distance de vue",name:"renderDistance",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue",adjustments:{}},{displayName:"Nombre d'herbivores à manger",name:"hungerLevel",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${Math.round(this.value)} herbivores",adjustments:{}},{displayName:"Temps pour manger",name:"eatingInterval",modificator:"",avg:0,stdDev:0,value:0,displayValue:"${this.value.toFixed(2)} ue",adjustments:{}}]},plant:{startingNb:0,spawnRate:0,spawnInterval:0},size:8e3,scale:1,offsetX:0,offsetY:0,speed:1,seed:Math.floor(1e8*Math.random()),nbOfAnimalsSnapshotInterval:50};let a,s,o=JSON.parse(localStorage.getItem("configs"))||[],i=o[0]||void 0,u=!1,r=!1,c=!1,d="";function f({detail:e}){n(1,i=o.filter(t=>t.id===e)[0])}return e.$$.update=()=>{3&e.$$.dirty&&i&&(n(0,o),n(1,i)),1&e.$$.dirty&&n(0,o=o.sort((e,t)=>e.name>t.name))},[o,i,u,r,a,s,c,d,function(){localStorage.setItem("configs",JSON.stringify(o))},function(){let e=JSON.parse(JSON.stringify(l));e.id=Ze(),n(0,o=[...o,e]),f({detail:e.id})},f,function(){const e=o.findIndex(e=>e.id===i.id);n(0,o=o.filter(e=>e.id!==i.id)),n(1,i=e>0?o[e-1]:void 0)},function(){const e=o.findIndex(e=>e.id===i.id),t=o.slice(0,e+1),l=o.slice(e+1),a=JSON.parse(JSON.stringify(i));a.name+=" (Copie)",a.id=Ze(),n(1,i=a),n(0,o=[...t,a,...l])},function e(){if(n(2,u=!0),i.prey.genes.forEach(e=>{for(let t in e.adjustments)e.adjustments[t]||delete e.adjustments[t]}),i.predator.genes.forEach(e=>{for(let t in e.adjustments)e.adjustments[t]||delete e.adjustments[t]}),r){let e=s.contentWindow;e.config=i,e.start(),n(3,r=!1)}else setTimeout(e,0)},function(){n(6,c=!0)},function(){if(!d)return;n(6,c=!1);let e=new FileReader;e.onload=e=>{const t=Object.assign(JSON.parse(JSON.stringify(l)),JSON.parse(e.target.result));t.name=t.name||"Configuration téléversée",t.id=Ze(),n(0,o=[...o,t]),n(1,i=t)},e.readAsText(d)},function(){s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()},function(){Ee(JSON.stringify(i,null,2),i.name+".json")},l,function(e){i=e,n(1,i)},function(e){S[e?"unshift":"push"](()=>{n(5,s=e)})},()=>n(3,r=!0),function(e){S[e?"unshift":"push"](()=>{n(4,a=e)})},function(e){u=e,n(2,u)},e=>n(7,d=e.target.files[0]),function(e){c=e,n(6,c)}]}new class extends X{constructor(e){super(),Z(this,e,tt,et,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
